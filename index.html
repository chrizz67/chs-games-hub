<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CHS Games Hub</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- LOADER -->
  <div id="loader" class="loader">
    <div class="loader-inner">
      <div class="loader-circle"></div>
      <div class="loader-dot"></div>
    </div>
    <p>Loading hub…</p>
  </div>

  <!-- AUTH SCREEN -->
  <div id="authScreen" class="screen centered">
    <div class="auth-card">
      <h1>CHS Games Hub</h1>
      <p class="sub">Use a username & 4-digit PIN to save your progress on this device.</p>
      <form id="authForm">
        <input id="authName" type="text" placeholder="Username" autocomplete="off" />
        <input id="authPin" type="password" placeholder="PIN (4 digits)" maxlength="4" />
        <button type="submit">Enter hub</button>
      </form>
      <p class="hint">If the username exists, you'll log in. If not, a new account is created.</p>
    </div>
  </div>

  <!-- MAIN APP -->
  <div id="app" class="app hidden">
    <!-- Top bar -->
    <header class="topbar">
      <div>
        <h2 id="welcomeTitle">Welcome</h2>
        <p id="welcomeSubtitle" class="muted">Signed in locally.</p>
      </div>
      <div class="top-coins">
        <span class="coin-icon"></span>
        <span id="coinAmount">0</span>
      </div>
    </header>

    <!-- Inner screens -->
    <main class="main">
      <!-- HOME -->
      <section id="screen-home" class="inner-screen active">
        <div class="card">
          <div class="card-header">
            <span>Overview</span>
            <span id="usernameLabel"></span>
          </div>
          <div class="overview-row">
            <div class="stat">
              <span class="stat-label">Coins</span>
              <span id="homeCoins" class="stat-value">0</span>
            </div>
            <div class="stat">
              <span class="stat-label">Games played</span>
              <span id="homeGames" class="stat-value">0</span>
            </div>
            <div class="stat">
              <span class="stat-label">Achievements</span>
              <span id="homeAch" class="stat-value">0</span>
            </div>
          </div>
          <p class="muted tiny">Stats are stored on this device only.</p>
        </div>

        <div class="card">
          <h3>Popular today</h3>
          <div id="popularGames" class="pill-row"></div>
        </div>

        <div class="card">
          <h3>Local leaderboard</h3>
          <ol id="leaderboard" class="leaderboard-list"></ol>
          <p class="muted tiny">Leaderboard is local to this browser.</p>
        </div>
      </section>

      <!-- GAMES -->
      <section id="screen-games" class="inner-screen">
        <div class="section-header">
          <h3>Games</h3>
        </div>

        <div class="games-source-toggle">
          <button class="games-source-btn active" data-source="internal">Internal</button>
          <button class="games-source-btn" data-source="external">External</button>
        </div>

        <div id="gamesCategories" class="games-categories"></div>

        <input id="gameSearch" class="search" type="text" placeholder="Search games…" />

        <div id="gameList" class="game-list"></div>
      </section>

      <!-- CHAT -->
      <section id="screen-chat" class="inner-screen">
        <div class="section-header">
          <h3>Chatroom</h3>
        </div>

        <div class="card chat-card">
          <div id="chatMessages" class="chat-messages"></div>
          <div class="chat-input-row">
            <input id="chatInput" type="text" placeholder="Type a message…" />
            <button id="chatSend">Send</button>
          </div>
        </div>
        <p class="muted tiny">Chat is only visible on this device (local demo).</p>
      </section>

      <!-- ACHIEVEMENTS -->
      <section id="screen-achievements" class="inner-screen">
        <div class="section-header">
          <h3>Achievements</h3>
        </div>
        <div id="achievementsList" class="ach-list"></div>
      </section>

      <!-- PROFILE -->
      <section id="screen-profile" class="inner-screen">
        <div class="section-header">
          <h3>Profile</h3>
        </div>
        <div class="card">
          <p><strong>User:</strong> <span id="profileName"></span></p>
          <p><strong>Coins:</strong> <span id="profileCoins">0</span></p>
          <p><strong>Games played:</strong> <span id="profileGames">0</span></p>
          <p><strong>Achievements:</strong> <span id="profileAch">0</span></p>
        </div>

        <div class="card">
          <h3>Session</h3>
          <button id="logoutBtn" class="danger-btn">Log out (this device)</button>
        </div>
      </section>
    </main>

    <!-- Bottom nav -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-target="home">
        <span class="nav-icon home"></span>
        <span class="nav-label">Home</span>
      </button>
      <button class="nav-btn" data-target="games">
        <span class="nav-icon games"></span>
        <span class="nav-label">Games</span>
      </button>
      <button class="nav-btn" data-target="chat">
        <span class="nav-icon chat"></span>
        <span class="nav-label">Chat</span>
      </button>
      <button class="nav-btn" data-target="achievements">
        <span class="nav-icon trophy"></span>
        <span class="nav-label">Ach</span>
      </button>
      <button class="nav-btn" data-target="profile">
        <span class="nav-icon user"></span>
        <span class="nav-label">Profile</span>
      </button>
    </nav>
  </div>

  <!-- GAME OVERLAY (INTERNAL GAMES) -->
  <div id="gameOverlay" class="game-overlay hidden">
    <div class="game-overlay-inner">
      <div class="game-overlay-top">
        <button id="gameBackBtn" class="overlay-btn">←</button>
        <span id="gameTitle" class="overlay-title"></span>
        <button id="gameFullscreenBtn" class="overlay-btn">⛶</button>
      </div>
      <div class="game-frame-wrap">
        <iframe id="gameFrame" src="" allowfullscreen loading="lazy"></iframe>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
